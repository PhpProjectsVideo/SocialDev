{% extends '/base.html.twig' %}

{% block body %}
    <div>
        {% if error is defined and error %}
            <div class="alert alert-danger alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="danger" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <strong>Error!</strong> {{ error }}
            </div>
        {% endif %}
        <div class="jumbotron">
            <h1>Welcome to Social.dev</h1>
            {% if app.user %}
                {% if app.user.fullyRegistered %}
                    <p>Hello {{ app.user.username }}! Your email is {{ app.user.email }}</p>
                    <p><a class="btn btn-danger btn-lg" href="{{ app.logout_path }}" role="button">Logout</a></p>
                {% else %}
                    <form method="post" action="{{ app.url('register') }}">
                        {{ form_errors(form) }}
                        {{ form_widget(form) }}
                        <button type="submit" class="btn btn-primary btn-lg">Finish Registration</button>
                        <a class="btn btn-danger btn-lg" href="{{ app.logout_path }}" role="button">Logout</a>
                    </form>

                {% endif %}
            {% else %}
                <p>Why don't you join us so you can start sharing your awesome Links!</p>
                <p><a class="btn btn-primary btn-lg" href="{{ app.login_paths.google }}" role="button">Login</a></p>
            {% endif %}
        </div>
    </div>
{% endblock %}
